{% extends "layout.html" %}
{% block body %}
<!-- Page Header -->
<header class="masthead mb-0" style="background-image: url('static/assets/img/home-bg.jpg')">
  <!--      <div class="overlay"></div>-->
  <div class="container position-relative px-4 px-lg-5">
    <div class="row gx-4 gx-lg-5 justify-content-center">
      <div class="page-heading">
        <h1>{{params['blog_name']}}</h1>

        <span class="subheading">{{params['tag_line']}}</span>
      </div>
    </div>
  </div>
  </div>
</header >
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}
<div class="alert alert-{{category}} alert-dismissible fade show" role="alert">
  {{message}}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}
{% endif %}
{% endwith %}


<!-- Main Content -->
<div class="container">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">

      <!-- Todo: Fetch it using for loop from the database -->

      {% for post in posts %}
      <div class="post-preview">
        <a href="/post/{{post.slug}}">
          <h2 class="post-title">{{ post.title }}</h2>
          <h3 class="post-subtitle">{{post.tagline}}</h3>
        </a>
        <p class="post-meta">Posted by
          <a href="#">Amnesh</a>
          on {{post.date}}
        </p>
      </div>
<hr>
       {{post.content[0:143]}}...
<hr>
        {% endfor %}

             <hr>
      <!-- Pager -->


        <div class="clearfix">
          <div class="clearfix">
            <a class="btn btn-primary float-light" href="{{prev}}"> &larr; Previous  </a>
              <a class="btn btn-primary float-right" id="j" href="{{next}}">Next &rarr;</a>
          </div>
        </div>
      </div>
    </div>
  </div>
<hr>
        <a href="/dashboard"><button class="btn btn-primary">Dashboard home</button></a>

<style>
#j {
margin-left: 395px;
<!--    border-left-width: 45px;-->
<!--    border-right-width: 45px;-->
}</style>

{% endblock %}



#
# @app.route("/dashboard" , methods = ['GET','POST'])
# def dashboard():
# if ('user' in session and session['user']==params['admin_user']):
# posts = Posts.query.all()
# return render_template('dashboard.html', params = params, posts=posts)
# if request.method == 'POST':
# username = request.form.get('uname')
# userpass = request.form.get('pass')
# if(username==params['admin_user'] and userpass== params['admin_password']):
# session['user'] = username
# posts = Posts.query.all()
# return render_template('dashboard.html',params=params, posts= posts)
#
#
# return render_template('login.html', params=params)